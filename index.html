<!DOCTYPE html>
<html>
<head>
  <title>Messages Anonymes</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
    textarea { width: 100%; height: 100px; margin: 10px 0; }
    button { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
    #confirmation { color: green; margin-top: 10px; }
  </style>
</head>
<body>
  <h1>Envoyer un message anonyme</h1>
  <textarea id="message" placeholder="Votre message..."></textarea>
  <button onclick="sendMessage()">Envoyer</button>
  <div id="confirmation"></div>

  <script>
    // Configuration
    const REPO_OWNER = "votre-username-github";
    const REPO_NAME = "votre-repo";
    const ISSUE_NUMBER = 1; // Numéro de l'issue GitHub à utiliser
    const TOKEN = "ghp_votreTokenGitHub"; // À générer dans GitHub Settings

    async function sendMessage() {
      const message = document.getElementById('message').value;
      if(!message) return;

      const response = await fetch(
        `https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/issues/${ISSUE_NUMBER}/comments`,
        {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${TOKEN}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ body: message })
        }
      );

      if(response.ok) {
        document.getElementById('confirmation').textContent = "Message envoyé avec succès !";
        document.getElementById('message').value = "";
      } else {
        document.getElementById('confirmation').textContent = "Erreur : " + (await response.json()).message;
      }
    }
  </script>
</body>
</html>